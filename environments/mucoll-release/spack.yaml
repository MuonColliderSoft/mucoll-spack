spack:
  packages:
    clhep:
      require: '@2.4.7.1 ~cms~ipo'
    acts:
      require: '@32.1.0'
    k4simdelphes:
      require: '@00-06-02 ~delphes_hepmc'
    mucoll-stack:
      require: '@2.9 +devtools'

    # The version seems to be necessary, otherwise it defaults to an older version
    root:
      require: '@6.32: +davix+fftw+gsl+math+minuit+mlp+opengl~postgres~pythia8+python+r+roofit+root7+rpath~shadow+spectrum+sqlite+ssl+tbb+threads+tmva+tmva-cpu+unuran+vc+vdt+x+xml+xrootd cxxstd=20'

    geant4:
      require: +opengl+qt~vecgeom cxxstd=20

    overlay:
      require: '@0.25'
    lcgeo:
      require: '@0.20'
    lcio:
      require: '@2.22'
    forwardtracking:
      require: '@1.14.2'
    conformaltracking:
      require: '@1.12.1'
    marlintrkprocessors:
      require: '@2.15.2'
    actstracking:
      require: '@1.2.2'
    muoncvxddigitiser:
      require: '@0.2'

    ilcutil:
      require: '@1.7.2'

    all:
      target: [x86_64]
      variants: build_type=RelWithDebInfo cxxstd=20
      buildable: true
      providers:
        gl: [mesa]
        glu: [mesa]

  specs:
  - mucoll-stack
  - geant4/p7jlshk
  - root/voacefc

  concretizer:
    unify: true